{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// const apiKey = '43839854-7e39202c3c35776610ceb4193';\n\n// export async function fetchImages(searchTerm) {\n//   const url = `https://pixabay.com/api/?key=${apiKey}&q=${searchTerm}&image_type=photo&orientation=horizontal&safesearch=true`;\n//   const response = await fetch(url);\n//   const data = await response.json();\n//   return data.hits;\n// }\n// 2222222222222222222222222222222222222222222\nconst apiKey = '43839854-7e39202c3c35776610ceb4193';\n\nexport async function fetchImages(searchTerm, currentPage) {\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${searchTerm}&image_type=photo&orientation=horizontal&safesearch=true&per_page=15&page=${currentPage}`;\n  const response = await fetch(url);\n  const data = await response.json();\n  return data.hits;\n}\n","// export function displayImages(images, gallery) {\n//   if (images.length === 0) {\n//     iziToast.error({\n//       title: 'Error',\n//       message:\n//         'Sorry, there are no images matching your search query. Please try again!',\n//     });\n//   } else {\n//     const imageElements = images.map(image => {\n//       const card = document.createElement('div');\n//       card.className = 'card';\n//       const imgElement = document.createElement('img');\n//       imgElement.src = image.webformatURL;\n//       imgElement.alt = image.tags;\n\n//       const aElement = document.createElement('a');\n//       aElement.href = image.largeImageURL;\n//       aElement.className = 'simplelightbox';\n//       aElement.appendChild(imgElement);\n\n//       imgElement.dataset.largeImage = image.largeImageURL;\n//       imgElement.dataset.likes = image.likes;\n//       imgElement.dataset.views = image.views;\n//       imgElement.dataset.comments = image.comments;\n//       imgElement.dataset.downloads = image.downloads;\n\n//       imgElement.classList.add('simplelightbox');\n\n//       card.appendChild(aElement);\n//       const info = document.createElement('div');\n//       info.className = 'info';\n//       info.innerHTML = `\n//           <p>Likes: ${image.likes}</p>\n//           <p>Views: ${image.views}</p>\n//           <p>Comments: ${image.comments}</p>\n//           <p>Downloads: ${image.downloads}</p>\n//         `;\n//       card.appendChild(info);\n//       return card;\n//     });\n\n//     gallery.append(...imageElements);\n//   }\n// }\n// 2222222222222222222222222222222222222222222222\nexport function displayImages(images, gallery) {\n  if (images.length === 0) {\n    iziToast.error({\n      title: 'Error',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n  } else {\n    const imageElements = images.map(image => {\n      const card = document.createElement('div');\n      card.className = 'card';\n      const imgElement = document.createElement('img');\n      imgElement.src = image.largeImageURL;\n      imgElement.alt = image.tags;\n\n      const aElement = document.createElement('a');\n      aElement.href = image.largeImageURL;\n      aElement.className = 'simplelightbox';\n      aElement.appendChild(imgElement);\n\n      imgElement.dataset.largeImage = image.largeImageURL;\n      imgElement.dataset.likes = image.likes;\n      imgElement.dataset.views = image.views;\n      imgElement.dataset.comments = image.comments;\n      imgElement.dataset.downloads = image.downloads;\n\n      imgElement.classList.add('simplelightbox');\n\n      card.appendChild(aElement);\n      const info = document.createElement('div');\n      info.className = 'info';\n      info.innerHTML = `\n          <p>Likes: ${image.likes}</p>\n          <p>Views: ${image.views}</p>\n          <p>Comments: ${image.comments}</p>\n          <p>Downloads: ${image.downloads}</p>\n        `;\n      card.appendChild(info);\n      return card;\n    });\n\n    gallery.append(...imageElements);\n  }\n}\n","// import iziToast from 'izitoast';\n// import 'izitoast/dist/css/iziToast.min.css';\n// import { fetchImages } from './js/pixabay-api.js';\n// import axios from 'axios';\n// import { displayImages } from './js/render-functions.js';\n// import SimpleLightbox from 'simplelightbox';\n// import 'simplelightbox/dist/simple-lightbox.min.css';\n\n// const searchForm = document.getElementById('search-form');\n// const searchInput = document.getElementById('search-input');\n// const loader = document.querySelector('.loader');\n// const gallery = document.getElementById('gallery');\n// const loadMoreBtn = document.getElementById('load-more-btn');\n\n// let currentPage = 1;\n// let searchTerm = '';\n\n// let lightbox = new SimpleLightbox('.simplelightbox a', {\n//   elements: '.simplelightbox',\n//   closeText: 'Закрыть',\n//   docClose: true,\n// });\n// let images = [];\n// let currentIndex = 0;\n\n// searchForm.addEventListener('submit', async e => {\n//   e.preventDefault();\n//   searchTerm = searchInput.value.trim();\n//   currentPage = 1;\n//   currentIndex = 0;\n\n//   loader.style.display = 'block';\n//   loadMoreBtn.style.display = 'none';\n\n//   gallery.innerHTML = '';\n\n//   if (searchTerm === '') {\n//     iziToast.warning({\n//       title: 'Warning',\n//       message: 'Please enter a search term.',\n//     });\n//     loader.style.display = 'none';\n//   } else {\n//     try {\n//       const response = await axios.get(\n//         `https://pixabay.com/api/?key=43839854-7e39202c3c35776610ceb4193&q=${searchTerm}&image_type=photo&orientation=horizontal&safesearch=true&per_page=15&page=${currentPage}`\n//       );\n//       images = response.data.hits.map(image => image.largeImageURL);\n\n//       displayImages(response.data.hits, gallery);\n\n//       lightbox.refresh();\n\n//       if (response.data.totalHits > 15) {\n//         loadMoreBtn.style.display = 'block';\n//       }\n//     } catch (error) {\n//       iziToast.error({\n//         title: 'Error',\n//         message: 'An error occurred while fetching images. Please try again.',\n//       });\n//     } finally {\n//       loader.style.display = 'none';\n//       searchInput.value = '';\n//     }\n//   }\n// });\n\n// loadMoreBtn.addEventListener('click', async () => {\n//   currentPage++;\n\n//   loader.style.display = 'block';\n\n//   try {\n//     const response = await axios.get(\n//       `https://pixabay.com/api/?key=43839854-7e39202c3c35776610ceb4193&q=${searchTerm}&image_type=photo&orientation=horizontal&safesearch=true&per_page=15&page=${currentPage}`\n//     );\n//     images = [\n//       ...images,\n//       ...response.data.hits.map(image => image.largeImageURL),\n//     ];\n//     displayImages(response.data.hits, gallery);\n\n//     const cardHeight = gallery.firstElementChild.getBoundingClientRect().height;\n\n//     window.scrollBy({\n//       top: cardHeight * 2,\n//       behavior: 'smooth',\n//     });\n\n//     lightbox.refresh();\n\n//     if (currentPage * 15 >= response.data.totalHits) {\n//       loadMoreBtn.style.display = 'none';\n//       iziToast.info({\n//         title: 'Info',\n//         message: \"We're sorry, but you've reached the end of search results.\",\n//       });\n//     }\n//   } catch (error) {\n//     iziToast.error({\n//       title: 'Error',\n//       message: 'An error occurred while fetching images. Please try again.',\n//     });\n//   } finally {\n//     loader.style.display = 'none';\n//   }\n// });\n// 1111111111111111111111111111111111111111111111\n// import iziToast from 'izitoast';\n// import 'izitoast/dist/css/iziToast.min.css';\n// import axios from 'axios';\n// import { displayImages } from './js/render-functions.js';\n// import { fetchImages } from './js/pixabay-api.js'; // Импорт функции fetchImages\n// import SimpleLightbox from 'simplelightbox';\n// import 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchImages } from './js/pixabay-api.js';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { displayImages } from './js/render-functions.js'; // Импорт функции displayImages\n\nconst searchForm = document.getElementById('search-form');\nconst searchInput = document.getElementById('search-input');\nconst loader = document.querySelector('.loader');\nconst gallery = document.getElementById('gallery');\nconst loadMoreBtn = document.getElementById('load-more-btn');\n\nlet currentPage = 1;\nlet searchTerm = '';\n\nlet lightbox = new SimpleLightbox('.simplelightbox a', {\n  elements: '.simplelightbox',\n  closeText: 'Закрыть',\n  docClose: true,\n});\nlet images = [];\nlet currentIndex = 0;\n\n// searchForm.addEventListener('submit', async e => {\n//   e.preventDefault();\n//   searchTerm = searchInput.value.trim();\n//   currentPage = 1;\n//   currentIndex = 0;\n\n//   loader.style.display = 'block';\n//   loadMoreBtn.style.display = 'none';\n\n//   gallery.innerHTML = '';\n\n//   if (searchTerm === '') {\n//     iziToast.warning({\n//       title: 'Warning',\n//       message: 'Please enter a search term.',\n//     });\n//     loader.style.display = 'none';\n//   } else {\n//     try {\n//       const response = await fetchImages(searchTerm, currentPage); // Вызов функции fetchImages\n//       images = response.data.hits.map(image => image.largeImageURL);\n\n//       displayImages(response.data.hits, gallery);\n\n//       lightbox.refresh();\n\n//       if (response.data.totalHits > 15) {\n//         loadMoreBtn.style.display = 'block';\n//       }\n//     } catch (error) {\n//       iziToast.error({\n//         title: 'Error',\n//         message: 'An error occurred while fetching images. Please try again.',\n//       });\n//     } finally {\n//       loader.style.display = 'none';\n//       searchInput.value = '';\n//     }\n//   }\n// });\n\n// loadMoreBtn.addEventListener('click', async () => {\n//   currentPage++;\n\n//   loader.style.display = 'block';\n\n//   try {\n//     const response = await fetchImages(searchTerm, currentPage); // Вызов функции fetchImages\n//     images = [\n//       ...images,\n//       ...response.data.hits.map(image => image.largeImageURL),\n//     ];\n//     displayImages(response.data.hits, gallery);\n\n//     const cardHeight = gallery.firstElementChild.getBoundingClientRect().height;\n\n//     window.scrollBy({\n//       top: cardHeight * 2,\n//       behavior: 'smooth',\n//     });\n\n//     lightbox.refresh();\n\n//     if (currentPage * 15 >= response.data.totalHits) {\n//       loadMoreBtn.style.display = 'none';\n//       iziToast.info({\n//         title: 'Info',\n//         message: \"We're sorry, but you've reached the end of search results.\",\n//       });\n//     }\n//   } catch (error) {\n//     iziToast.error({\n//       title: 'Error',\n//       message: 'An error occurred while fetching images. Please try again.',\n//     });\n//   } finally {\n//     loader.style.display = 'none';\n//   }\n// });\nsearchForm.addEventListener('submit', async e => {\n  e.preventDefault();\n  searchTerm = searchInput.value.trim();\n  currentPage = 1;\n  currentIndex = 0;\n\n  loader.style.display = 'block';\n  loadMoreBtn.style.display = 'none';\n\n  gallery.innerHTML = '';\n\n  if (searchTerm === '') {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a search term.',\n    });\n    loader.style.display = 'none';\n  } else {\n    try {\n      const response = await fetchImages(searchTerm, currentPage);\n      images = response.map(image => image.largeImageURL);\n\n      displayImages(response, gallery); // Передача ответа и галереи в функцию displayImages\n\n      lightbox.refresh();\n\n      if (response.length > 15) {\n        loadMoreBtn.style.display = 'block';\n      }\n    } catch (error) {\n      iziToast.error({\n        title: 'Error',\n        message: 'An error occurred while fetching images. Please try again.',\n      });\n    } finally {\n      loader.style.display = 'none';\n      searchInput.value = '';\n    }\n  }\n});\n"],"names":["apiKey","fetchImages","searchTerm","currentPage","url","displayImages","images","gallery","imageElements","image","card","imgElement","aElement","info","searchForm","searchInput","loader","loadMoreBtn","lightbox","SimpleLightbox","e","iziToast","response"],"mappings":"6vBASA,MAAMA,EAAS,qCAER,eAAeC,EAAYC,EAAYC,EAAa,CACzD,MAAMC,EAAM,gCAAgCJ,CAAM,MAAME,CAAU,6EAA6EC,CAAW,GAG1J,OADa,MADI,MAAM,MAAMC,CAAG,GACJ,QAChB,IACd,CC6BO,SAASC,EAAcC,EAAQC,EAAS,CAC7C,GAAID,EAAO,SAAW,EACpB,SAAS,MAAM,CACb,MAAO,QACP,QACE,0EACR,CAAK,MACI,CACL,MAAME,EAAgBF,EAAO,IAAIG,GAAS,CACxC,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAY,OACjB,MAAMC,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,IAAMF,EAAM,cACvBE,EAAW,IAAMF,EAAM,KAEvB,MAAMG,EAAW,SAAS,cAAc,GAAG,EAC3CA,EAAS,KAAOH,EAAM,cACtBG,EAAS,UAAY,iBACrBA,EAAS,YAAYD,CAAU,EAE/BA,EAAW,QAAQ,WAAaF,EAAM,cACtCE,EAAW,QAAQ,MAAQF,EAAM,MACjCE,EAAW,QAAQ,MAAQF,EAAM,MACjCE,EAAW,QAAQ,SAAWF,EAAM,SACpCE,EAAW,QAAQ,UAAYF,EAAM,UAErCE,EAAW,UAAU,IAAI,gBAAgB,EAEzCD,EAAK,YAAYE,CAAQ,EACzB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzC,OAAAA,EAAK,UAAY,OACjBA,EAAK,UAAY;AAAA,sBACDJ,EAAM,KAAK;AAAA,sBACXA,EAAM,KAAK;AAAA,yBACRA,EAAM,QAAQ;AAAA,0BACbA,EAAM,SAAS;AAAA,UAEnCC,EAAK,YAAYG,CAAI,EACdH,CACb,CAAK,EAEDH,EAAQ,OAAO,GAAGC,CAAa,CAChC,CACH,CCmCA,MAAMM,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAS,SAAS,cAAc,SAAS,EACzCT,EAAU,SAAS,eAAe,SAAS,EAC3CU,EAAc,SAAS,eAAe,eAAe,EAE3D,IAAId,EAAc,EACdD,EAAa,GAEbgB,EAAW,IAAIC,EAAe,oBAAqB,CACrD,SAAU,kBACV,UAAW,UACX,SAAU,EACZ,CAAC,EACGb,EAAS,CAAA,EAkFbQ,EAAW,iBAAiB,SAAU,MAAMM,GAAK,CAW/C,GAVAA,EAAE,eAAc,EAChBlB,EAAaa,EAAY,MAAM,OAC/BZ,EAAc,EAGda,EAAO,MAAM,QAAU,QACvBC,EAAY,MAAM,QAAU,OAE5BV,EAAQ,UAAY,GAEhBL,IAAe,GACjBmB,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,6BACf,CAAK,EACDL,EAAO,MAAM,QAAU,WAEvB,IAAI,CACF,MAAMM,EAAW,MAAMrB,EAAYC,EAAYC,CAAW,EAC1DG,EAASgB,EAAS,IAAIb,GAASA,EAAM,aAAa,EAElDJ,EAAciB,EAAUf,CAAO,EAE/BW,EAAS,QAAO,EAEZI,EAAS,OAAS,KACpBL,EAAY,MAAM,QAAU,QAE/B,MAAe,CACdI,EAAS,MAAM,CACb,MAAO,QACP,QAAS,4DACjB,CAAO,CACP,QAAc,CACRL,EAAO,MAAM,QAAU,OACvBD,EAAY,MAAQ,EACrB,CAEL,CAAC"}